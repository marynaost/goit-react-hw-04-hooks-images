(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={overlay:"Modal_overlay__3q__1",modal:"Modal_modal__TZqbW"}},14:function(e,t,a){e.exports={button:"Button_button__3dDCZ"}},20:function(e,t,a){},41:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),o=a.n(r),s=(a(20),a(12)),i=a(3),u=a(8),l=a(13),b=a.n(l);a(41);var j={fetchImage:function(e,t){var a="?q=".concat(e,"&page=").concat(t,"&key=").concat("24009911-9ac198a76ee72dc693090197c","&image_type=photo&orientation=horizontal&per_page=12");return fetch("https://pixabay.com/api/"+a).then((function(e){return e.ok?e.json():Promise.reject(new Error("Something went wrong"))}))}},m=a(15),h=(a(42),a(5)),d=a.n(h),f=a(1);function g(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],o=c[1];return Object(f.jsx)("header",{className:d.a.searchbar,children:Object(f.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===r.trim())return u.b.error("Enter the name");t(r),o("")},className:d.a.form,children:[Object(f.jsxs)("button",{type:"submit",className:d.a.button,children:[Object(f.jsx)(m.a,{}),Object(f.jsx)("span",{className:d.a.label,children:"Search"})]}),Object(f.jsx)("input",{className:d.a.input,type:"text",value:r,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.target.value.toLowerCase())}})]})})}var O=a(7),p=a.n(O);var _=function(e){var t=e.src,a=e.largeImageURL,n=e.tags,c=e.onClick;return Object(f.jsx)("li",{className:p.a.item,onClick:c,children:Object(f.jsx)("img",{src:t,alt:n,"data-src":a,className:p.a.image})})};var v=function(e){var t=e.hits,a=e.onClick;return Object(f.jsx)("ul",{className:p.a.gallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,c=e.largeImageURL,r=e.tags;return Object(f.jsx)(_,{src:n,largeImageURL:c,tags:r,onClick:a},t)}))})},x=a(14),S=a.n(x);var w=function(e){var t=e.onClick;return Object(f.jsx)("button",{type:"button",className:S.a.button,onClick:t,children:"Load more"})},y=a(11),C=a.n(y),k=document.querySelector("#modal-root");function N(e){var t=e.src,a=e.alt,c=e.onClose;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&c()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[c]);return Object(r.createPortal)(Object(f.jsx)("div",{className:C.a.overlay,onClick:function(e){e.currentTarget===e.target&&c()},children:Object(f.jsx)("div",{className:C.a.modal,children:Object(f.jsx)("img",{src:t,alt:a})})}),k)}function E(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),o=Object(i.a)(r,2),l=o[0],m=o[1],h=Object(n.useState)(1),d=Object(i.a)(h,2),O=d[0],p=d[1],_=Object(n.useState)("idle"),x=Object(i.a)(_,2),S=x[0],y=x[1],C=Object(n.useState)(null),k=Object(i.a)(C,2),E=k[0],I=k[1],L=Object(n.useState)(!1),q=Object(i.a)(L,2),R=q[0],U=q[1],T=Object(n.useState)(""),W=Object(i.a)(T,2),A=W[0],B=W[1],D=Object(n.useState)(""),G=Object(i.a)(D,2),M=G[0],F=G[1];Object(n.useEffect)((function(){l?j.fetchImage(l,O).then((function(e){var t=e.hits;if(0===t.length)return u.b.warn("We haven't images with the name ".concat(l," "),{autoClose:3e3});c((function(e){return[].concat(Object(s.a)(e),Object(s.a)(t))})),y("resolved"),p(O)})).catch((function(e){I(e),y("rejected")})):c([])}),[O,l]);var J=function(){setTimeout((function(){window.scrollBy({top:document.documentElement.clientHeight-260,behavior:"smooth"})}),500)};return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(g,{onSubmit:function(e){c([]),m(e),p(1),y("pending")}}),"pending"===S&&Object(f.jsx)(b.a,{type:"ThreeDots",color:"#3f51b5",height:80,width:80,timeout:3e3}),"rejected"===S&&Object(f.jsxs)("p",{children:[" ",E.message," "]}),"resolved"===S&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(v,{hits:a,onClick:function(e){B(e.target.dataset.src),F(e.target.alt),U(!0)}}),Object(f.jsx)(w,{onClick:function(){J(),p((function(e){return e+1}))}}),R&&Object(f.jsx)(N,{onClose:function(){U(!1)},src:A,alt:M})]}),Object(f.jsx)(u.a,{autoClose:3e3})]})}o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(E,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__1id1V",form:"Searchbar_form__1UgR3",button:"Searchbar_button__3Ctqx",label:"Searchbar_label__19VfA",input:"Searchbar_input__2WCEx"}},7:function(e,t,a){e.exports={gallery:"ImageGallery_gallery__Y9825",item:"ImageGallery_item__2WA-w",image:"ImageGallery_image__1Itnf"}}},[[44,1,2]]]);
//# sourceMappingURL=main.32e6e1dd.chunk.js.map