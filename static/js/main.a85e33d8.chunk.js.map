{"version":3,"sources":["components/Modal/Modal.module.scss","components/Button/Button.module.scss","services/apiService.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.scss","components/ImageGallery/ImageGallery.module.scss"],"names":["module","exports","API","fetchImage","searchQuery","page","params","fetch","then","response","ok","json","Promise","reject","Error","Searchbar","onSubmit","useState","name","setName","className","s","searchbar","e","preventDefault","trim","toast","error","form","type","button","label","input","value","autoComplete","autoFocus","placeholder","onChange","target","toLowerCase","ImageGalleryItem","src","largeImageURL","tags","onClick","item","alt","image","ImageGallery","hits","gallery","map","id","webformatURL","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","props","onClose","handleBackdropClick","event","currentTarget","window","addEventListener","this","removeEventListener","createPortal","overlay","modal","Component","App","images","setImages","query","setQuery","setPage","status","setStatus","setError","showModal","setShowModal","setSrc","setAlt","useEffect","length","warn","autoClose","prevImages","catch","handleScroll","setTimeout","scrollBy","top","documentElement","clientHeight","behavior","color","height","width","timeout","message","dataset","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,OAAS,yB,0KCa3B,IAEeC,EAFH,CAAEC,WAXd,SAAoBC,EAAaC,GAC/B,IAAMC,EAAM,aAASF,EAAT,iBAA6BC,EAA7B,gBAJE,qCAIF,wDAGZ,OAAOE,MANK,2BAIWD,GAELE,MAAK,SAAAC,GACrB,OAAIA,EAASC,GACJD,EAASE,OAEXC,QAAQC,OAAO,IAAIC,MAAM,8B,uCCHrB,SAASC,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAClC,EAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KAcA,OACE,wBAAQC,UAAWC,IAAEC,UAArB,SACE,uBAAMN,SAVW,SAAAO,GAEnB,GADAA,EAAEC,iBACkB,KAAhBN,EAAKO,OACP,OAAOC,IAAMC,MAAM,kBAErBX,EAASE,GACTC,EAAQ,KAIwBC,UAAWC,IAAEO,KAA3C,UACE,yBAAQC,KAAK,SAAST,UAAWC,IAAES,OAAnC,UACE,cAAC,IAAD,IACA,sBAAMV,UAAWC,IAAEU,MAAnB,uBAGF,uBACEX,UAAWC,IAAEW,MACbH,KAAK,OACLI,MAAOf,EACPgB,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SA3BiB,SAAAd,GACvBJ,EAAQI,EAAEe,OAAOL,MAAMM,uB,oBCMZC,MAff,YAAkE,IAAtCC,EAAqC,EAArCA,IAAKC,EAAgC,EAAhCA,cAAeC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QACpD,OACE,oBAAIxB,UAAWC,IAAEwB,KAAMD,QAASA,EAAhC,SACE,qBAAKH,IAAKA,EAAKK,IAAKH,EAAM,WAAUD,EAAetB,UAAWC,IAAE0B,WCmBvDC,MArBf,YAA0C,IAAlBC,EAAiB,EAAjBA,KAAML,EAAW,EAAXA,QAC5B,OACE,oBAAIxB,UAAWC,IAAE6B,QAAjB,SACGD,EAAKE,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,aAAcX,EAArB,EAAqBA,cAAeC,EAApC,EAAoCA,KAApC,OACR,cAAC,EAAD,CAEEF,IAAKY,EACLX,cAAeA,EACfC,KAAMA,EACNC,QAASA,GAJJQ,S,iBCMAE,MAZf,YAA8B,IAAZV,EAAW,EAAXA,QAChB,OACE,wBAAQf,KAAK,SAAST,UAAWC,IAAES,OAAQc,QAASA,EAApD,wB,iDCAEW,EAAYC,SAASC,cAAc,eAEnCC,E,4MAeJC,cAAgB,SAAApC,GACC,WAAXA,EAAEqC,MACJ,EAAKC,MAAMC,W,EAIfC,oBAAsB,SAAAC,GAChBA,EAAMC,gBAAkBD,EAAM1B,QAChC,EAAKuB,MAAMC,W,uDAhBf,WACEI,OAAOC,iBAAiB,UAAWC,KAAKT,iB,kCAG1C,WACEO,OAAOG,oBAAoB,UAAWD,KAAKT,iB,oBAe7C,WACE,MAAqBS,KAAKP,MAAlBpB,EAAR,EAAQA,IAAKK,EAAb,EAAaA,IACb,OAAOwB,uBACL,qBAAKlD,UAAWC,IAAEkD,QAAS3B,QAASwB,KAAKL,oBAAzC,SACE,qBAAK3C,UAAWC,IAAEmD,MAAlB,SACE,qBAAK/B,IAAKA,EAAKK,IAAKA,QAGxBS,O,GAnCckB,aAwCLf,ICrCA,SAASgB,IACtB,MAA4BzD,mBAAS,IAArC,mBAAO0D,EAAP,KAAeC,EAAf,KACA,EAA0B3D,mBAAS,IAAnC,mBAAO4D,EAAP,KAAcC,EAAd,KACA,EAAwB7D,mBAAS,GAAjC,mBAAOZ,EAAP,KAAa0E,EAAb,KACA,EAA4B9D,mBAAS,QAArC,mBAAO+D,EAAP,KAAeC,EAAf,KACA,EAA0BhE,mBAAS,MAAnC,mBAAOU,EAAP,KAAcuD,EAAd,KACA,EAAkCjE,oBAAS,GAA3C,mBAAOkE,EAAP,KAAkBC,EAAlB,KACA,EAAsBnE,mBAAS,IAA/B,mBAAOwB,EAAP,KAAY4C,EAAZ,KACA,EAAsBpE,mBAAS,IAA/B,mBAAO6B,EAAP,KAAYwC,EAAZ,KASAC,qBAAU,WACHV,EAIL3E,EAAIC,WAAW0E,EAAOxE,GACnBG,MAAK,YAAe,IAAZyC,EAAW,EAAXA,KACP,GAAoB,IAAhBA,EAAKuC,OACP,OAAO9D,IAAM+D,KAAN,0CAA8CZ,EAA9C,KAAwD,CAC7Da,UAAW,MAGfd,GAAU,SAAAe,GAAU,4BAAQA,GAAR,YAAuB1C,OAC3CgC,EAAU,YACVF,EAAQ1E,MAETuF,OAAM,SAAAjE,GACLuD,EAASvD,GACTsD,EAAU,eAhBZL,EAAU,MAkBX,CAACvE,EAAMwE,IAEV,IAKMgB,EAAe,WACnBC,YAAW,WACT5B,OAAO6B,SAAS,CACdC,IAAKxC,SAASyC,gBAAgBC,aAAe,IAC7CC,SAAU,aAEX,MAaL,OACE,sBAAK/E,UAAU,MAAf,UACE,cAAC,EAAD,CAAUJ,SAvDU,SAAA6D,GACtBD,EAAU,IACVE,EAASD,GACTE,EAAQ,GACRE,EAAU,cAoDI,YAAXD,GACC,cAAC,IAAD,CACEnD,KAAK,YACLuE,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,MAGD,aAAXvB,GAAyB,kCAAKrD,EAAM6E,QAAX,OACd,aAAXxB,GACC,qCACE,cAAC,EAAD,CAAc/B,KAAM0B,EAAQ/B,QAzBZ,SAAArB,GACtB8D,EAAO9D,EAAEe,OAAOmE,QAAQhE,KACxB6C,EAAO/D,EAAEe,OAAOQ,KAChBsC,GAAa,MAuBP,cAAC,EAAD,CAAQxC,QAxCU,WACxBiD,IACAd,GAAQ,SAAA2B,GAAQ,OAAIA,EAAW,QAuCxBvB,GAAa,cAAC,EAAD,CAAOrB,QArBR,WACnBsB,GAAa,IAoBqC3C,IAAKA,EAAKK,IAAKA,OAG/D,cAAC,IAAD,CAAgB4C,UAAW,SCxFjCiB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFrD,SAASsD,eAAe,U,kBCR1B9G,EAAOC,QAAU,CAAC,UAAY,6BAA6B,KAAO,wBAAwB,OAAS,0BAA0B,MAAQ,yBAAyB,MAAQ,2B,kBCAtKD,EAAOC,QAAU,CAAC,QAAU,8BAA8B,KAAO,2BAA2B,MAAQ,+B","file":"static/js/main.a85e33d8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3q__1\",\"modal\":\"Modal_modal__TZqbW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3dDCZ\"};","const API_KEY = '24009911-9ac198a76ee72dc693090197c';\r\nconst BASE_URL = `https://pixabay.com/api/`;\r\n\r\nfunction fetchImage(searchQuery, page) {\r\n  const params = `?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n  const URL = BASE_URL + params;\r\n\r\n  return fetch(URL).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error('Something went wrong'));\r\n  });\r\n}\r\nconst API = { fetchImage };\r\n\r\nexport default API;\r\n","// import { Component } from 'react';\r\nimport { useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n// import PropTypes from 'prop-types';\r\nimport s from './Searchbar.module.scss';\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [name, setName] = useState('');\r\n\r\n  const handleNameChange = e => {\r\n    setName(e.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (name.trim() === '') {\r\n      return toast.error('Enter the name');\r\n    }\r\n    onSubmit(name);\r\n    setName('');\r\n  };\r\n  return (\r\n    <header className={s.searchbar}>\r\n      <form onSubmit={handleSubmit} className={s.form}>\r\n        <button type=\"submit\" className={s.button}>\r\n          <ImSearch />\r\n          <span className={s.label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.input}\r\n          type=\"text\"\r\n          value={name}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={handleNameChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\n// class Seachbar extends Component {\r\n//   static propTypes = {\r\n//     onSubmit: PropTypes.func.isRequired,\r\n//   };\r\n\r\n//   state = {\r\n//     name: '',\r\n//   };\r\n\r\n//   handleNameChange = e => {\r\n//     this.setState({ name: e.target.value.toLowerCase() });\r\n//   };\r\n\r\n//   handleSubmit = e => {\r\n//     e.preventDefault();\r\n//     if (this.state.name.trim() === '') {\r\n//       return toast.error('Enter the name');\r\n//     }\r\n//     this.props.onSubmit(this.state.name);\r\n//     this.setState({ name: '' });\r\n//   };\r\n\r\n//   render() {\r\n//     return (\r\n//       <header className={s.searchbar}>\r\n//         <form onSubmit={this.handleSubmit} className={s.form}>\r\n//           <button type=\"submit\" className={s.button}>\r\n//             <ImSearch />\r\n//             <span className={s.label}>Search</span>\r\n//           </button>\r\n\r\n//           <input\r\n//             className={s.input}\r\n//             type=\"text\"\r\n//             value={this.state.name}\r\n//             autoComplete=\"off\"\r\n//             autoFocus\r\n//             placeholder=\"Search images and photos\"\r\n//             onChange={this.handleNameChange}\r\n//           />\r\n//         </form>\r\n//       </header>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// export default Seachbar;\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.scss';\r\n\r\nfunction ImageGalleryItem({ src, largeImageURL, tags, onClick }) {\r\n  return (\r\n    <li className={s.item} onClick={onClick}>\r\n      <img src={src} alt={tags} data-src={largeImageURL} className={s.image} />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  src: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from 'components/ImageGallery/ImageGalleryItem';\r\nimport s from './ImageGallery.module.scss';\r\n\r\nfunction ImageGallery({ hits, onClick }) {\r\n  return (\r\n    <ul className={s.gallery}>\r\n      {hits.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          src={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          tags={tags}\r\n          onClick={onClick}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  hits: PropTypes.array.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.scss';\r\n\r\nfunction Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" className={s.button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import { createPortal } from 'react-dom';\r\nimport { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.scss';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    alt: PropTypes.string,\r\n    src: PropTypes.string,\r\n    onClose: PropTypes.func,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { src, alt } = this.props;\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.modal}>\r\n          <img src={src} alt={alt} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import { useState, useEffect } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport Loader from 'react-loader-spinner';\nimport './App.css';\nimport API from './services/apiService';\nimport Seachbar from 'components/Searchbar/Searchbar';\nimport ImageGallery from 'components/ImageGallery/ImageGallery';\nimport Button from 'components/Button/Button';\nimport Modal from 'components/Modal/Modal';\n\nexport default function App() {\n  const [images, setImages] = useState([]);\n  const [query, setQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [status, setStatus] = useState('idle');\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [src, setSrc] = useState('');\n  const [alt, setAlt] = useState('');\n\n  const handleForSubmit = query => {\n    setImages([]);\n    setQuery(query);\n    setPage(1);\n    setStatus('pending');\n  };\n\n  useEffect(() => {\n    if (!query) {\n      setImages([]);\n      return;\n    }\n    API.fetchImage(query, page)\n      .then(({ hits }) => {\n        if (hits.length === 0) {\n          return toast.warn(`We haven't images with the name ${query} `, {\n            autoClose: 3000,\n          });\n        }\n        setImages(prevImages => [...prevImages, ...hits]);\n        setStatus('resolved');\n        setPage(page);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      });\n  }, [page, query]);\n\n  const handleButtonClick = () => {\n    handleScroll();\n    setPage(prevPage => prevPage + 1);\n  };\n\n  const handleScroll = () => {\n    setTimeout(() => {\n      window.scrollBy({\n        top: document.documentElement.clientHeight - 260,\n        behavior: 'smooth',\n      });\n    }, 500);\n  };\n\n  const handleModalOpen = e => {\n    setSrc(e.target.dataset.src);\n    setAlt(e.target.alt);\n    setShowModal(true);\n  };\n\n  const onCloseModal = () => {\n    setShowModal(false);\n  };\n\n  return (\n    <div className=\"App\">\n      <Seachbar onSubmit={handleForSubmit} />\n      {status === 'pending' && (\n        <Loader\n          type=\"ThreeDots\"\n          color=\"#3f51b5\"\n          height={80}\n          width={80}\n          timeout={3000}\n        />\n      )}\n      {status === 'rejected' && <p> {error.message} </p>}\n      {status === 'resolved' && (\n        <>\n          <ImageGallery hits={images} onClick={handleModalOpen} />\n          <Button onClick={handleButtonClick} />\n          {showModal && <Modal onClose={onCloseModal} src={src} alt={alt} />}\n        </>\n      )}\n      <ToastContainer autoClose={3000} />\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__1id1V\",\"form\":\"Searchbar_form__1UgR3\",\"button\":\"Searchbar_button__3Ctqx\",\"label\":\"Searchbar_label__19VfA\",\"input\":\"Searchbar_input__2WCEx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__Y9825\",\"item\":\"ImageGallery_item__2WA-w\",\"image\":\"ImageGallery_image__1Itnf\"};"],"sourceRoot":""}